---
title: "2021 교내대회 풀이"
date: 2020-12-04 11:33:00 +0800
categories: [Algorithm]
tags: [BOJ]
use_math: true
---



## A. 웰시코기 메시

문제에서 제시된 텍스트를 출력하는 문제이다. 이 문제에서 유의할 점은 \을 붙여주어야 되는 문자에 대해 잘 처리해서 출력해야 된다.

/\_/\

\|::•:::•::|/

::\:(Y)::/__

:::|;""""""";;.::::\==

:::(,,),,,(,,)"""O



## C. 거래 성사

 문제에서 정의된 코스트값을 생각하면 직사각형의 넓이를 구하는 것과 같다. 그렇다면 기하학적으로도 생각을 해볼 수 있는데, 문제의 입력에서 주어진 쌍들을 평면상의 좌표로 해석을 해보자. 결국 최댓값이 나오는 어떤 두쌍을 잘 선택해야 된다.

### C-1. 부분 문제 (20점)

  이 최댓값을 어떻게 구할 지를 생각해보아야 하는데, 무식하게 접근하자면 모든 쌍에 대해 시도하는 것은 $O(NM)$에 시도해볼 수 있다. 이 방법으로 구현하면 20점까지 받을 수 있다.

### C-2 부분 문제 (100점)

  첫번째 부분 문제는 명백히 시간초과이다. 그렇다면 어떻게 시간을 줄일 수 있을 지를 생각해보자. 우리는 문제에서 제시된 조건을 보면 시작일은 1000이하의 수만 들어온다는 조건에서 힌트를 얻을 수 있다.

  잘 생각해보면 아이템 공급처 중에서 같은 시작일을 가진 공급처가 있다면 제일 저렴한 공급처를 선택하면 된다. 이와 같이 아이템 판매처는 같은 시작일을 가진 판매처가 있다면 제일 비산 판매처를 선택한다.

  그렇다면 최댓값이 될 수 있는 후보는 각 최대 1000개이므로 완전탐색을 해볼 수 있고 $O(1000^2)$ 시간 복잡도에 문제를 풀 수 있다.



 여담으로 시작일들의 범위가 더 클 때 이 풀이로는 시간 초과가 난다. 그래서 이런 문제를 풀 수 있는 효율적인 풀이로는 set을 통해 각 공급처는 아래 껍질, 판매처들은 윗 껍질 꼴로 만들어주고, 각 껍질들은 단조성이 성립하므로 Divide And Conquer Dynammic Programming을 통해 $O(NlogN)$에 해결해 줄 수도 있다. 



## D. 도현이의 삼각형

 문제를 읽고나면 어떤 세변의 길이 $a, b, c$가 있고, $a \le b \le c$(일반성을 잃지 않음)일 때 $a + b > c$를 만족하는 세 쌍의 경우의 수를 묻는 문제로 해석할 수 있다.

### D-1. 부분 문제 (20점)

 무식하게 생각하자면 $b, c$를 만약 구했다고 치면 결국 $a$가 될 수 있는 경우의 수는 $n-b-c$가 되기 때문에 $b, c$가 될 수 있는 모든 경우의 수를 탐색하면 된다. 시간복잡도 $O(N^2)$에 해결해줄 수 있다.

### D-2. 부분 문제 (50점)

 첫번째 부분 문제에서 시간복잡도를 줄여야 되는데 잘 생각해보면 $c$를 구한다면 $a, b$를 한번에 구해줄 수 있다. $c$를 알고 있다면 $a+b = n-c$를 만족하는 $a, b$의 쌍은 $[c - [/frac{n-c-1}{2}]$ ([x]는 가우스 함수, 내림과 동일)개가 존재한다.

  여기서 주의할 점이 위의 식은 음수가 나올 수 있으므로 양수만 나오는 $c$의 범위를 구해야 된다. 첫번째로 직관적을 볼 때 $c \ge \frac{n}{3}$이 된다. 다음으로 

$a + b > c$ 

$a + b + c > 2c$ 

$n > 2c$ 

$c < \frac{n}{2}$ 

  이므로 $\frac{n}{3} \le c < \frac{n}{2}$ 이 구간에만 존재하는 $c$를 탐색만 해주면 되므로 $O(N)$에 문제를 해결할 수 있다.

### D-3. 부분 문제 (100점)

  두번째 부분문제에서 $\sum_{k=\frac{n}{3}}^{\frac{n}{2}-1} k - [\frac{n-k-1}{2}]$ 이런 꼴로 나타낼 수 있는데 이 부분에서 수열의 합을 잘 쓰면 $O(1)$에 처리할 수 있을 것이다. 하지만 가우스 함수가 존재하기 때문에 일반적인 수열의 합을 구하기 힘들다.

  먼저 수열의 식을 $k$가 홀수 일때, 짝수 일때로 나누어 보자. 왜냐하면 가우스함수안에 있는 식은 짝수, 홀수 일때 다른 형태를 관찰할 수 있기 때문이다. 홀수 일 때 경우의수 $A_n$이라 정의하고, 짝수 일 때 경우의 수 $B_N$이라고 정의하자.

  직접 하나씩 해보면 두 수열 다 공차가 3인 것을 관찰할 수 있고, 두 수열의 초항만 다르다. 두 수열의 초항은 잘 구해줄 수 있고, 그렇다면 각 수열에 대해 수열의 합공식으로 $O(1)$에 구해줄 수 있다.

  경우의 수는 매우 큰 수이므로 long long을 사용해야 된다.



## F. 알고리듬

  문제에서 요구하는 작업을 귀납적으로 잘 생각해보면 구간을 배치할 수 있는 필요조건에 대해 유추해볼 수 있다.

### F-1. 부분 문제 1 (20점)

 $N$이 매우 작으므로 모든 경우에 대해 백트래킹을 시도해볼 수 있다. 적절한 가지치기를 하면 시간안에 돌아간다.

### F-2. 부분 문제 2 (100점)

 문제를 단순하게 바꾸기 위해 각 노트들을 $K$ 단위로 나뉘어서 생각해보자. 각 노트들의 길이를 $K$로 나누고 올림을 해주자. 그렇다면 $1, 2, 3 .. $ 이런식으로 나타낼 수 있다.

 여기서 각 다른 길이의 노트에 대해 규칙을 생각해보자. 

 가지고 있는 모든 노트의 길이가 1인 경우 아무렇게나 배치해도 규칙에 어긋나지 않는다.

 가지고 있는 모든 노트의 길이가 2인 경우 맨 처음에 길이가 1인 노트를 배치하면 이후 아무렇게나 배치해도 규칙에 어긋나지 않는다.

 가지고 있는 모든 노트의 길이가 3인 경우 길이가 1인 노트와 같이 배치해야지 규칙에 어긋나지 않는다.

 ....

 가지고 있는 모든 노트의 길이가 $K$인 경우 길이가 $K-2$노트와 같이 배치해야지 규칙에 어긋나지 않는다.

 이런 결론을 얻을 수 있으므로 개수들을 잘 비교해주면 배치가 가능한지를 알 수 있다.



## G. 배달의 민족

  문제가 살짝 난해한데, 어떤 격자판에서 어느 격자를 일정한 순서로 방문할 때 최단 경로를 구하는 문제이다. 단순히 최단경로를 돌릴 수도 있지만 시간이 오래 걸린다. 

 이 문제에서 핵심은 "각 격자들 끼리 가는 최단 경로의 경우의 수는 최대 1개"라는 점을 잘 이용하는 것이다.

### G-1.부분 문제 1 (30점)

 다음으로 가야되는 격자의 최단 경로를 찾기 위해 각 단계마다 bfs를 돌리면 O(M*N^2)에 문제를 해결할 수 있다.

### G-2. 부분 문제 2 (90점)

 격자에서 나타나는 특수한 성질을 잘 이용해 보자. "각 격자들 끼리 가는 최단 경로의 경우의 수는 최대 1개"라는 말은 결국에는 격자판들 끼리 연결관계가 트리로 나타난다는 것이다.  그렇다면 각 순서들 사이의 최단 경로는 트리의 최단 경로로 생각해볼 수 있고, 이 행동은 $O(T)$에 해결해줄 수 있으므로, $O(MT)$에 문제를 해결해줄 수 있다.

### G-3. 부분 문제 3 (100점)  

 두번째 부분 문제에서 두 트리의 최단 경로를 LCA를 이용하면 $O(logT)$에 해결해줄 수 있다. 그러므로 문제를 $O(MlogT)$에 문제를 해결해줄 수 있다.



## H. 세상에 나쁜 트리는 없다.

 문제의 상황을 어떻게 잘 구현하고 각각의 명령을 어떻게 효율적이게 처리하는 방법을 생각해보아야 하는 문제이다. 딱히 어려운 알고리즘을 사용하지도 않는다.

### H-1. 부분 문제 1 (10점)

 $N$이 작기 때문에 잘 구현하기만 해도 시간 내에 돌아간다.

### H-2. 부분 문제 2 (20점)

 $T=1$인 명령만 들어오므로 이 명령을 잘 처리하는 방법을 생각해야 되는데 set 자료구조를 사용하면 효율적이게 구현이 가능하다. $O(QlogN)$에 문제를 풀 수 있다.

### H-3. 부분 문제 3 (40점)

 두번째 부분 문제에서 $T=3$인 명령이 추가 되었다. 이 명령을 무식하게 처리하면 $O(NlogN)$이 나온다. 살짝 발상을 바꿔서 둘이 가지고 있는 인덱스를 바꾸면 명령을 $O(1)$에 처리해줄 수 있다. 인덱스를 바꾸는 것은 map, unordered_map 자료구조로도 쉽게 구현이 가능하다.

### H-4. 부분 문제 4 (100점)

 세번째 부분 문제에서 $T=2$인 명령이 추가 되었다. 이 명령 또한 무식하게 처리하면 $O(NlogN)$이 나온다. 시간을 줄이는 방법을 생각해보자. 

 되게 간단한 아이디어 인데 집합 $A, B, C ... $ (모든 집합 원소 개수들의 합은 $N$)이 있는 데 두 집합식 합쳐셔 한 집합으로 만들려고 한다. 이때 그냥 막 합쳐버리면 $O(N^2)$가 나오지만 큰 집합에 작은 집합을 합치면 $O(NlogN)$ 정도에 모두 합칠 수 있다. 이런 기술을 Small To Large 테크닉이라고 한다. 왜 이렇게 되는 지는 각 집합들의 원소가 2개씩 가지고 있다고 가정하고 생각해보자.

 이 아이디어를 적용하면 $T=2$인 명령을 효율적이게 처리해줄 수 있다.

 문제를 $O(QlogN)$에 문제를 풀 수 있다.

